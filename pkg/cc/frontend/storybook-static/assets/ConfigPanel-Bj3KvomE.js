import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{S as b}from"./Spinner-CVL8Mf24.js";function h({config:t,services:i,onNavigateConfig:c}){if(!t)return e.jsxs("div",{className:"rounded-xs border border-border bg-surface-light p-4",children:[e.jsx("h3",{className:"mb-2 text-sm/5 font-semibold text-text-tertiary",children:"Config"}),e.jsx(b,{})]});const n=t.networks.filter(s=>s.enabled),p=new Map(i.map(s=>[s.name,s])),d=(s,l)=>{var r;const a=p.get(s);return((r=a==null?void 0:a.ports)==null?void 0:r[0])??l},m=(s,l,a="")=>{const r=p.get(s),x=(r==null?void 0:r.url)??l;return x!=="-"?`${x}${a}`:""};return e.jsxs("div",{className:"rounded-xs border border-border bg-surface-light p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm/5 font-semibold text-text-tertiary",children:"Config"}),c&&e.jsx("button",{onClick:c,className:"text-xs/4 text-accent-light transition-colors hover:text-accent-light/80",children:"Manage"})]}),e.jsxs("div",{className:"flex flex-col gap-3 text-xs/4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"rounded-xs bg-accent/20 px-2 py-0.5 font-medium text-accent-light",children:t.mode}),n.map(s=>e.jsx("span",{className:"rounded-xs bg-success/20 px-2 py-0.5 text-success",children:s.name},s.name))]}),e.jsxs("div",{className:"border-t border-border/50 pt-3",children:[e.jsx("div",{className:"mb-2 text-[10px]/3 font-semibold tracking-wider text-text-disabled uppercase",children:"Services"}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx(o,{label:"Lab Frontend",port:d("lab-frontend",t.ports.labFrontend),href:m("lab-frontend",`http://localhost:${t.ports.labFrontend}`)}),n.map(s=>{const l=`cbt-api-${s.name}`,a=t.ports.cbtApiBase+s.portOffset,r=d(l,a);return e.jsx(o,{label:`CBT API${n.length>1?` (${s.name})`:""}`,port:r,href:`http://localhost:${r}/docs`},l)}),n.map(s=>{const l=`cbt-${s.name}`,a=t.ports.cbtFrontendBase+s.portOffset,r=d(l,a);return e.jsx(o,{label:`CBT Frontend${n.length>1?` (${s.name})`:""}`,port:r,href:`http://localhost:${r}`},`cbt-fe-${s.name}`)})]})]}),e.jsxs("div",{className:"border-t border-border/50 pt-3",children:[e.jsx("div",{className:"mb-2 text-[10px]/3 font-semibold tracking-wider text-text-disabled uppercase",children:"Infrastructure"}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx(o,{label:"ClickHouse CBT",port:t.ports.clickhouseCbt,href:`http://localhost:${t.ports.clickhouseCbt}/play`}),t.mode==="local"&&e.jsx(o,{label:"ClickHouse Xatu",port:t.ports.clickhouseXatu,href:`http://localhost:${t.ports.clickhouseXatu}/play`}),e.jsx(o,{label:"Redis",port:t.ports.redis})]})]}),e.jsxs("div",{className:"border-t border-border/50 pt-3",children:[e.jsx("div",{className:"mb-2 text-[10px]/3 font-semibold tracking-wider text-text-disabled uppercase",children:"Observability"}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx(o,{label:"Prometheus",port:t.ports.prometheus,href:`http://localhost:${t.ports.prometheus}`}),e.jsx(o,{label:"Grafana",port:t.ports.grafana,href:`http://localhost:${t.ports.grafana}`})]})]})]})]})}function o({label:t,port:i,href:c}){const n=c?e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-text-tertiary transition-colors hover:text-accent-light",children:t}):e.jsx("span",{className:"text-text-tertiary",children:t});return e.jsxs("div",{className:"flex items-center justify-between py-0.5",children:[n,e.jsx("span",{className:"font-mono text-text-secondary",children:i})]})}h.__docgenInfo={description:"",methods:[],displayName:"ConfigPanel",props:{config:{required:!0,tsType:{name:"union",raw:"ConfigInfo | null",elements:[{name:"ConfigInfo"},{name:"null"}]},description:""},services:{required:!0,tsType:{name:"Array",elements:[{name:"ServiceInfo"}],raw:"ServiceInfo[]"},description:""},onNavigateConfig:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{h as C};
